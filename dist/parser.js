"use strict";var f=Object.create;var k=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var o=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var $=(n,t)=>{for(var i in t)k(n,i,{get:t[i],enumerable:!0})},y=(n,t,i,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of o(t))!x.call(n,r)&&r!==i&&k(n,r,{get:()=>t[r],enumerable:!(u=v(t,r))||u.enumerable});return n};var B=(n,t,i)=>(i=n!=null?f(w(n)):{},y(t||!n||!n.__esModule?k(i,"default",{value:n,enumerable:!0}):i,n)),G=n=>y(k({},"__esModule",{value:!0}),n);var s=(n,t,i)=>new Promise((u,r)=>{var g=h=>{try{l(i.next(h))}catch(c){r(c)}},b=h=>{try{l(i.throw(h))}catch(c){r(c)}},l=h=>h.done?u(h.value):Promise.resolve(h.value).then(g,b);l((i=i.apply(n,t)).next())});var R={};$(R,{parse:()=>S});module.exports=G(R);var p=require("fs/promises"),d=B(require("tinycolor2")),A=(t=>(t.GRAMMAR="per grammar",t))(A||{}),F=(a=>(a.Canvas="Canvas",a.CanvasText="CanvasText",a.LinkText="LinkText",a.VisitedText="VisitedText",a.ActiveText="ActiveText",a.ButtonFace="ButtonFace",a.ButtonText="ButtonText",a.ButtonBorder="ButtonBorder",a.Field="Field",a.FieldText="FieldText",a.Highlight="Highlight",a.HighlightText="HighlightText",a.SelectedItem="SelectedItem",a.SelectedItemText="SelectedItemText",a.Mark="Mark",a.MarkText="MarkText",a.GrayText="GrayText",a.AccentColor="AccentColor",a.AccentColorTex="AccentColorText",a))(F||{}),q=(e=>(e.aliceBlue="aliceblue",e.antiqueWhite="antiquewhite",e.aqua="aqua",e.aquamarine="aquamarine",e.azure="azure",e.beige="beige",e.bisque="bisque",e.black="black",e.blanchedAlmond="blanchedalmond",e.blue="blue",e.blueViolet="blueviolet",e.brown="brown",e.burlyWood="burlywood",e.cadetBlue="cadetblue",e.chartreuse="chartreuse",e.chocolate="chocolate",e.coral="coral",e.cornflowerBlue="cornflowerblue",e.cornsilk="cornsilk",e.crimson="crimson",e.cyan="cyan",e.darkBlue="darkblue",e.darkCyan="darkcyan",e.darkGoldenRod="darkgoldenrod",e.darkGray="darkgray",e.darkGreen="darkgreen",e.darkGrey="darkgrey",e.darkKhaki="darkkhaki",e.darkMagenta="darkmagenta",e.darkOliveGreen="darkolivegreen",e.darkOrange="darkorange",e.darkOrchid="darkorchid",e.darkRed="darkred",e.darkSalmon="darksalmon",e.darkSeaGreen="darkseagreen",e.darkSlateBlue="darkslateblue",e.darkSlateGray="darkslategrey",e.darkSlateGrey="darkslategrey",e.darkTurquoise="darkturquoise",e.darkViolet="darkviolet",e.deepPink="deeppink",e.deepSkyBlue="deepskyblue",e.dimGray="dimgray",e.dimGrey="dimgrey",e.dodgerBlue="dodgerblue",e.fireBrick="firebrick",e.floralWhite="floralwhite",e.forestGreen="forestgreen",e.fuchsia="fuchsia",e.gainsboro="gainsboro",e.ghostWhite="ghostwhite",e.gold="gold",e.goldenRod="goldenrod",e.gray="gray",e.green="green",e.greenYellow="greenyellow",e.grey="grey",e.honeyDew="honeydew",e.hotPink="hotpink",e.indianRed="indianred",e.indigo="indigo",e.ivory="ivory",e.khaki="khaki",e.lavender="lavender",e.lavenderBlush="lavenderblush",e.lawnGreen="lawngreen",e.lemonChiffon="lemonchiffon",e.lightBlue="lightblue",e.lightCoral="lightcoral",e.lightCyan="lightcyan",e.lightGoldenRodYellow="lightgoldenrodyellow",e.lightGray="lightgray",e.lightGreen="lightgreen",e.lightGrey="lightgrey",e.lightPink="lightpink",e.lightSalmon="lightsalmon",e.lightSeaGreen="lightseagreen",e.lightSkyBlue="lightskyblue",e.lightSlateGray="lightslategrey",e.lightSlateGrey="lightslategrey",e.lightSteelBlue="lightsteelblue",e.lightYellow="lightyellow",e.lime="lime",e.limeGreen="limegreen",e.linen="linen",e.magenta="magenta",e.maroon="maroon",e.mediumAquaMarine="mediumaquamarine",e.mediumBlue="mediumblue",e.mediumOrchid="mediumorchid",e.mediumPurple="mediumpurple",e.mediumSeaGreen="mediumseagreen",e.mediumSlateBlue="mediumslateblue",e.mediumSpringGreen="mediumspringgreen",e.mediumTurquoise="mediumturquoise",e.mediumVioletRed="mediumvioletred",e.midnightBlue="midnightblue",e.mintCream="mintcream",e.mistyRose="mistyrose",e.moccasin="moccasin",e.navajoWhite="navajowhite",e.navy="navy",e.oldLace="oldlace",e.olive="olive",e.oliveDrab="olivedrab",e))(q||{});class P{constructor(t){this.token=t}toString(){return JSON.stringify(this.token,null,2)}getToken(){return this.token}getType(){return this.token.type}toCSS(){switch(this.token.type){case"color":typeof this.token.value=="number"&&(this.token.value=this.token.value.toString()),typeof this.token.value=="undefined"&&this.token._props!==void 0&&(this.token.value=this.token._props.initial);const t=(0,d.default)(this.token.value);if(!t.isValid())throw new Error(`Invalid color ${this.token.value}`);this.token.css=`"${this.token.name.trim()}": ${t.toString()};`;break;case"fontFamily":const i=this.token.value;this.token.css=Array.isArray(i)?i.map(u=>`"${u}"`).join(", "):`"${i}";`;break;case"shadow":this.token.css=typeof this.token.value=="string"?`box-shadow: "${this.token.value}";`:`box-shadow: "${JSON.stringify(this.token.value,null,2)}";`;break;default:break}}}class O{constructor(t,i){this.source=t,this.opt=i,this.tokens=this.readTokens(this.source)}readTokens(t){var i;this.tokens===void 0&&(this.tokens=[]);for(const[u,r]of Object.entries(t))if(r.$value!==void 0&&r.$value!==null){const g=new P({value:r.$value,name:u,type:(i=r.$type)!=null?i:typeof r.$value});r.$description!==void 0&&(g.token.description=r.$description),r.$extensions!==void 0&&(g.token.extensions=r.$extensions),this.opt.format==="css"&&g.getType()!==void 0&&g.toCSS(),this.tokens.push(g.getToken())}else this.readTokens(r);return this.tokens}}function S(n,t){return s(this,null,function*(){if(n===void 0)throw new Error("source is undefined");if(t.format!=="css")throw new Error("unsupported format");typeof n=="string"&&(n.startsWith("./")||n.startsWith("/"))&&(n=yield(0,p.readFile)(n,{encoding:"utf8"}));const{tokens:i}=new O(n,t);return{tokens:i}})}0&&(module.exports={parse});
